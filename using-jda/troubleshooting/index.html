
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../assets/images/logo-round.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>Troubleshooting - JDA Wiki</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/colors.css">
    
      <link rel="stylesheet" href="../../assets/stylesheets/frontpage.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="purple" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#troubleshooting" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="JDA Wiki" class="md-header__button md-logo" aria-label="JDA Wiki" data-md-component="logo">
      <style>
  /* We want the logo imagine to consume the full height, so remove the default applied margin and padding */
  .md-header__button.md-logo {
    padding: 0;
    margin: 0;
  }

  .header__logo {
    height: 46px !important; /* !important to override strong theme specificity */
  }
</style>

<!-- Logo -->


  <img class="header__logo" src="../../assets/images/logo-transparent.svg" alt="logo" />

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            JDA Wiki
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Troubleshooting
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="purple" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
            </label>
          
        
          
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="purple" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/DV8FromTheWorld/JDA" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    JDA
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../introduction/jda/" class="md-tabs__link">
        Getting Started
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../setup/intellij/" class="md-tabs__link">
        Setup
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../getting-started/" class="md-tabs__link md-tabs__link--active">
        Using JDA
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../contributing/contributing/" class="md-tabs__link">
        Contributing
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="https://ci.dv8tion.net/job/JDA5/javadoc/" class="md-tabs__link">
      Javadocs
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="JDA Wiki" class="md-nav__button md-logo" aria-label="JDA Wiki" data-md-component="logo">
      <style>
  /* We want the logo imagine to consume the full height, so remove the default applied margin and padding */
  .md-header__button.md-logo {
    padding: 0;
    margin: 0;
  }

  .header__logo {
    height: 46px !important; /* !important to override strong theme specificity */
  }
</style>

<!-- Logo -->


  <img class="header__logo" src="../../assets/images/logo-transparent.svg" alt="logo" />

    </a>
    JDA Wiki
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/DV8FromTheWorld/JDA" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    JDA
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1">
          Getting Started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Getting Started" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Getting Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../introduction/jda/" class="md-nav__link">
        JDA
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../introduction/events/" class="md-nav__link">
        Using Events
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../introduction/events-list/" class="md-nav__link">
        List of Events
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../introduction/faq/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../introduction/migration-v3-v4/" class="md-nav__link">
        Migration V3 -> V4
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Setup
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Setup" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Setup
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/intellij/" class="md-nav__link">
        IntelliJ IDEA Setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/eclipse/" class="md-nav__link">
        Eclipse Setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/netbeans/" class="md-nav__link">
        Netbeans Setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/logging/" class="md-nav__link">
        Logging (SLF4J)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Using JDA
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Using JDA" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Using JDA
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../making-a-music-bot/" class="md-nav__link">
        Making a Music Bot
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../using-restaction/" class="md-nav__link">
        Using RestAction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../interactions/" class="md-nav__link">
        Interactions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../paginating-entities/" class="md-nav__link">
        Paginating Entities
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gateway-intents-and-member-cache-policy/" class="md-nav__link">
        Gateway Intents and Member Cache Policy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/MinnDevelopment/discord-webhooks" class="md-nav__link">
        Webhooks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../separation-of-concerns/" class="md-nav__link">
        Managers and Moderation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../using-new-features/" class="md-nav__link">
        Using New Features
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Troubleshooting
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Troubleshooting
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#shutdown-but-the-process-doesnt-exit" class="md-nav__link">
    Shutdown but the process doesn't exit
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#noclassdeffounderror-or-classnotfoundexception-on-startup" class="md-nav__link">
    NoClassDefFoundError or ClassNotFoundException on startup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#discord-issues-and-api-limitations" class="md-nav__link">
    Discord Issues and API Limitations
  </a>
  
    <nav class="md-nav" aria-label="Discord Issues and API Limitations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-provided-token-is-invalid" class="md-nav__link">
    The provided token is invalid!
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cant-get-emoji-from-message" class="md-nav__link">
    Can't get emoji from message
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#event-handling-and-restactions" class="md-nav__link">
    Event Handling and RestActions
  </a>
  
    <nav class="md-nav" aria-label="Event Handling and RestActions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#restaction-queue-returned-failure" class="md-nav__link">
    RestAction queue returned failure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nothing-happens-when-using-x" class="md-nav__link">
    Nothing happens when using X
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#my-event-listener-code-is-not-executed" class="md-nav__link">
    My event listener code is not executed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#missed-2-heartbeats-trying-to-reconnect" class="md-nav__link">
    Missed 2 heartbeats! Trying to reconnect...
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#listener-must-implement-eventlistener" class="md-nav__link">
    Listener must implement EventListener
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#i-cant-get-the-previous-message-content-from-deleteupdate" class="md-nav__link">
    I can't get the previous message content from delete/update
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#preventing-use-of-complete-in-callback-threads" class="md-nav__link">
    Preventing use of complete() in callback threads
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ratelimits" class="md-nav__link">
    RateLimits
  </a>
  
    <nav class="md-nav" aria-label="RateLimits">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hit-the-websocket-ratelimit" class="md-nav__link">
    Hit the WebSocket RateLimit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encountered-429-or-encountered-global-rate-limit" class="md-nav__link">
    Encountered 429 or Encountered global rate limit
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#intents-and-caching" class="md-nav__link">
    Intents and Caching
  </a>
  
    <nav class="md-nav" aria-label="Intents and Caching">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cannot-get-reference-as-it-has-already-been-garbage-collected" class="md-nav__link">
    Cannot get reference as it has already been Garbage Collected
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usersmembers-not-in-cache" class="md-nav__link">
    Users/Members not in cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cannot-get-message-content-attempting-to-access-message-content-without-gatewayintent" class="md-nav__link">
    Cannot get message content / Attempting to access message content without GatewayIntent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#im-getting-closecode4014-disallowed-intents" class="md-nav__link">
    I'm getting CloseCode(4014 / Disallowed intents...)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interactions-and-slash-commands" class="md-nav__link">
    Interactions and Slash Commands
  </a>
  
    <nav class="md-nav" aria-label="Interactions and Slash Commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#this-interaction-failed-unknown-interaction" class="md-nav__link">
    This interaction failed / Unknown Interaction
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interaction-followup-messages-timed-out" class="md-nav__link">
    Interaction Followup Messages Timed out
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Contributing
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Contributing" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Contributing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/contributing/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/structure-guide/" class="md-nav__link">
        Structure Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/repository-structure/" class="md-nav__link">
        Repository Structure
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="https://ci.dv8tion.net/job/JDA5/javadoc/" class="md-nav__link">
        Javadocs
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/DV8FromTheWorld/JDA-Website/edit/master/docs/using-jda/troubleshooting.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">&para;</a></h1>
<p>This is a collection of common issues and recommended solutions.</p>
<p>Didn't find an answer? Try asking in <a href="https://discord.gg/0hMr4ce0tIl3SLv5">our Discord server</a></p>
<hr />
<h3 id="shutdown-but-the-process-doesnt-exit">Shutdown but the process doesn't exit<a class="headerlink" href="#shutdown-but-the-process-doesnt-exit" title="Permanent link">&para;</a></h3>
<p>When you call <code>JDA.shutdown()</code> or <code>JDA.shutdownNow()</code> the JDA instance will stop all of its threads. However, if HTTP/2 was used by the <code>OkHttpClient</code> instance it will keep the JVM running due to a timeout thread for http connections. This can be terminated by shutting it down manually:</p>
<div class="highlight"><pre><span></span><code><span class="n">OkHttpClient</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">jda</span><span class="p">.</span><span class="na">getHttpClient</span><span class="p">();</span><span class="w"></span>
<span class="n">client</span><span class="p">.</span><span class="na">connectionPool</span><span class="p">().</span><span class="na">evictAll</span><span class="p">();</span><span class="w"></span>
<span class="n">client</span><span class="p">.</span><span class="na">dispatcher</span><span class="p">().</span><span class="na">executorService</span><span class="p">().</span><span class="na">shutdown</span><span class="p">();</span><span class="w"></span>
</code></pre></div>
<h3 id="noclassdeffounderror-or-classnotfoundexception-on-startup">NoClassDefFoundError or ClassNotFoundException on startup<a class="headerlink" href="#noclassdeffounderror-or-classnotfoundexception-on-startup" title="Permanent link">&para;</a></h3>
<p>An error like <code>java.lang.NoClassDefFoundError: net/dv8tion/jda/api/JDABuilder</code> or similar means you are not including your dependencies or transitive dependencies in the archive.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:3"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Gradle (build.gradle)</label><label for="__tabbed_1_2">Maven (pom.xml)</label><label for="__tabbed_1_3">Jar</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>With Gradle this can be fixed by using the <a href="https://github.com/johnrengelman/shadow">shadow plugin</a> and building your jar with <code>shadowJar</code> instead. The jar will then be present in the <code>build/libs</code> directory with a name like <code>example-1.0-all.jar</code></p>
</div>
<div class="tabbed-block">
<p>With Maven you need the <a href="https://maven.apache.org/plugins/maven-shade-plugin/">shade plugin</a> in your pom to add dependencies to your package task. You can see the shade plugin being applied in this <a href="https://gist.github.com/MinnDevelopment/5d8c5965043bbe5315d47b690cd7a4d9">example pom.xml</a></p>
</div>
<div class="tabbed-block">
<p>You need to use the <code>-withDependencies.jar</code> rather than the normal one.</p>
</div>
</div>
</div>
<h2 id="discord-issues-and-api-limitations">Discord Issues and API Limitations<a class="headerlink" href="#discord-issues-and-api-limitations" title="Permanent link">&para;</a></h2>
<h3 id="the-provided-token-is-invalid">The provided token is invalid!<a class="headerlink" href="#the-provided-token-is-invalid" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>javax.security.auth.login.LoginException: The provided token is invalid!
</code></pre></div>
<p>This exception indicates that the token you have used in your <code>JDABuilder</code> is not a valid bot token.
Usually, this means you tried using the <strong>secret</strong> instead of the bot token. To get your token, follow these steps:</p>
<ol>
<li>Open the <a href="https://discord.com/developers/applications">Application Dashboard</a></li>
<li>Select your application</li>
<li>On the left side, click the <strong>Bot</strong> tab</li>
<li>If you don't have a bot yet, you must create one</li>
<li>Once you have a bot, there is a token section. Click <strong>COPY</strong>.</li>
<li>The token is now in your clipboard and you can paste it into your code</li>
</ol>
<p>If you follow these steps and you still get the same exception, it could be due to one of these problems:</p>
<ul>
<li>You included excess whitespace in your string. The token string should not include any newlines or spaces.</li>
<li>You were banned from the API or your server is hosted on a public hosting platform like Glitch or Heroku.</li>
<li>The token is not for a bot account, we do not support client accounts.</li>
</ul>
<p>A valid token looks like this:</p>
<div class="highlight"><pre><span></span><code>NDkyNzQ3NzY5MDM2MDEzNTc4.Xw2cUA.LLslVBE1tfFK20sGsNm-FVFYdsA
</code></pre></div>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p><strong>NEVER SHARE YOUR TOKEN WITH ANYONE. DO NOT COMMIT IT AND PUSH IT TO GITHUB. DO NOT SHOW IT TO ANYONE UNDER ANY CIRCUMSTANCES.</strong></p>
</div>
<h3 id="cant-get-emoji-from-message">Can't get emoji from message<a class="headerlink" href="#cant-get-emoji-from-message" title="Permanent link">&para;</a></h3>
<p>Methods such as <a href="https://ci.dv8tion.net/job/JDA5/javadoc/net/dv8tion/jda/api/entities/Mentions.html#getCustomEmojis()"><code>Mentions.getCustomEmojis()</code></a> and <a href="https://ci.dv8tion.net/job/JDA5/javadoc/net/dv8tion/jda/api/entities/Mentions.html#getCustomEmojisBag()"><code>Mentions.getCustomEmojisBag()</code></a> only include custom emoji which have to be uploaded to a guild by a moderator. Unicode emoji such as üëç are not included and require using a 3rd party library to be located in a string. You can use <a href="https://github.com/MinnDevelopment/emoji-java">emoji-java</a> to extract unicode emoji from a message.</p>
<p>An example use-case including a code sample can be found in <a href="https://stackoverflow.com/a/58353912/10630900">this answer to a related question on StackOverflow</a></p>
<h2 id="event-handling-and-restactions">Event Handling and RestActions<a class="headerlink" href="#event-handling-and-restactions" title="Permanent link">&para;</a></h2>
<h3 id="restaction-queue-returned-failure">RestAction queue returned failure<a class="headerlink" href="#restaction-queue-returned-failure" title="Permanent link">&para;</a></h3>
<p>When JDA encounters an issue while executing a <code>RestAction</code> it will emit an error through the <strong>failure callback</strong>. You can handle this by adding a second callback to <code>queue()</code>, for example: <code>message.delete().queue(v -&gt; System.out.println("success"), ContextException.herePrintingTrace‚Äã());</code>.</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">deleteMessage</span><span class="p">(</span><span class="n">Message</span><span class="w"> </span><span class="n">message</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">message</span><span class="p">.</span><span class="na">delete</span><span class="p">().</span><span class="na">queue</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">exception</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">message</span><span class="p">.</span><span class="na">getChannel</span><span class="p">().</span><span class="na">sendMessage</span><span class="p">(</span><span class="s">&quot;There was an error &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">exception</span><span class="p">).</span><span class="na">queue</span><span class="p">();</span><span class="w"></span>
<span class="w">    </span><span class="p">});</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
</div>
<p>You can use <a href="https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/exceptions/ErrorHandler.html">ErrorHandler</a> to handle or ignore specific <a href="https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/requests/ErrorResponse.html">ErrorResponse</a> failures.</p>
<h3 id="nothing-happens-when-using-x">Nothing happens when using X<a class="headerlink" href="#nothing-happens-when-using-x" title="Permanent link">&para;</a></h3>
<p>In JDA we make use of async rate-limit handling through the use of the common <a href="../using-restaction/">RestAction</a> class.
<br>When you have code such as <code>channel.sendMessage("hello");</code> or <code>message.delete();</code> nothing actually happens.
This is because both <code>sendMessage(...)</code> as well as <code>delete()</code> return a <code>RestAction</code> instance. You are not done here since that class is only an intermediate step to executing your request. Here you can decide to use async <code>queue()</code> (recommended) or <code>submit()</code> or the blocking <code>complete()</code> (not recommended).</p>
<p>You might notice that <code>queue()</code> returns <code>void</code>. This is because it's <strong>async</strong> and uses callbacks instead.
<a href="../using-restaction/">Read More</a></p>
<p>If you <em>do</em> have a <code>queue()</code> then maybe your code doesn't even run? Try putting a <code>System.out.println("debug")</code> right before and after your code and see if it prints. If not, then read this <a href="#my-event-listener-code-is-not-executed">My event listener code is not executed</a>.</p>
<h3 id="my-event-listener-code-is-not-executed">My event listener code is not executed<a class="headerlink" href="#my-event-listener-code-is-not-executed" title="Permanent link">&para;</a></h3>
<p>There are many reasons why your event listener might not be executed but here are the most common issues:</p>
<ol>
<li>You are using a deprecated or removed part of JDA, such as <code>new JDABuilder(...)</code>.
    <br>Use the replacement that is documented, for example <code>createDefault(token)</code>.</li>
<li>You are using the wrong login token.
    <br>If the token is for another bot which doesn't have access to the desired guilds then the event listener code cannot run.</li>
<li>Your bot is not actually in the guild.
    <br>Make sure your bot is online and has access to the resource you are trying to interact with.</li>
<li>You never registered your listener.
    <br>Use <code>jda.addEventListener(new MyListener())</code> on either the <code>JDABuilder</code> or <code>JDA</code> instance</li>
<li>You did not override the correct method.
    <br>Use <code>@Override</code> and see if it fails. Your method has to use the correct name and parameter list defined in <code>ListenerAdapter</code>. <a href="../../introduction/events/">Read More</a>.</li>
<li>You don't actually extend <code>EventListener</code> or <code>ListenerAdapter</code>.
    <br>Your class should <strong>either</strong> use <code>extends ListenerAdapter</code> or <code>implements EventListener</code>.</li>
<li>You are missing a required <a href="../gateway-intents-and-member-cache-policy/"><code>GatewayIntent</code></a> for this event.
    <br>Make sure that you <code>enableIntents(...)</code> on the <code>JDABuilder</code> to allow the events to be received.</li>
<li>The event has other requirements that might not be satisfied such as the cache not being enabled.
    <br>Please check the requirements on the event documentation.</li>
</ol>
<p>If none of the above apply to you then you might have an issue in your listener's code, at that point you should use a debugger.</p>
<h3 id="missed-2-heartbeats-trying-to-reconnect">Missed 2 heartbeats! Trying to reconnect...<a class="headerlink" href="#missed-2-heartbeats-trying-to-reconnect" title="Permanent link">&para;</a></h3>
<p>This warning implies your event thread is too busy and will block critical events from being received. You should try to limit blocking calls and make sure your event handlers don't take up too much time. Do profiling to figure out what takes so long or create a <a href="../../introduction/faq/">thread dump</a> when you get this warning to see where the issue is.</p>
<p>By default, all events are handled on the same thread they get received and handled on. If you block this thread for too long then JDA cannot keep up with important lifecycle events sent by Discord. Either you start writing non-blocking code (replace <code>complete()</code> with <code>queue()</code> etc.) or you use a thread pool for your event handling.</p>
<h3 id="listener-must-implement-eventlistener">Listener must implement EventListener<a class="headerlink" href="#listener-must-implement-eventlistener" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Listener must implement EventListener
        at net.dv8tion.jda.api.hooks.InterfacedEventManager.register(InterfacedEventManager.java:62)
        at net.dv8tion.jda.internal.hooks.EventManagerProxy.register(EventManagerProxy.java:52)
        at net.dv8tion.jda.internal.JDAImpl.addEventListener(JDAImpl.java:810)
        at net.dv8tion.jda.api.JDABuilder.lambda$build$0(JDABuilder.java:1841)
        at java.base/java.lang.Iterable.forEach(Iterable.java:75)
        at net.dv8tion.jda.api.JDABuilder.build(JDABuilder.java:1841)
</code></pre></div>
<p>When you get an exception like this, that means one of the event listeners you registered does not implement the <code>EventListener</code> interface provided by JDA.</p>
<p>This is not a valid event listener class:</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MyListener</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">   </span><span class="p">...</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>You can either use <strong>ListenerAdapter</strong> or <strong>EventListener</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">net.dv8tion.jda.api.hooks.ListenerAdapter</span><span class="p">;</span><span class="w"></span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MyListener</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">ListenerAdapter</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="p">...</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>When using <strong>EventListner</strong> make sure you actually imported the correct interface from JDA and <strong>not</strong> <code>java.util.EventListner</code>:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">net.dv8tion.jda.api.events.GenericEvent</span><span class="p">;</span><span class="w"></span>
<span class="kn">import</span><span class="w"> </span><span class="nn">net.dv8tion.jda.api.hooks.EventListener</span><span class="p">;</span><span class="w"></span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MyListener</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">EventListener</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nd">@Override</span><span class="w"></span>
<span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onEvent</span><span class="p">(</span><span class="n">GenericEvent</span><span class="w"> </span><span class="n">event</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="p">...</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p><a href="../../introduction/events/">Read More</a></p>
<h3 id="i-cant-get-the-previous-message-content-from-deleteupdate">I can't get the previous message content from delete/update<a class="headerlink" href="#i-cant-get-the-previous-message-content-from-deleteupdate" title="Permanent link">&para;</a></h3>
<p>When Discord emits a <code>message_delete</code> or <code>message_update</code> they only provide the new content of the message. Since JDA does not keep a cache of messages it is unable to provide the previous content. Instead you will have to track content of messages yourself.</p>
<h3 id="preventing-use-of-complete-in-callback-threads">Preventing use of complete() in callback threads<a class="headerlink" href="#preventing-use-of-complete-in-callback-threads" title="Permanent link">&para;</a></h3>
<p>The following code will illustrate an issue where callbacks might cause a deadlock</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nc">Main</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">JDA</span><span class="w"> </span><span class="n">api</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JDABuilder</span><span class="p">.</span><span class="na">createDefault</span><span class="p">(</span><span class="n">BOT_TOKEN</span><span class="p">)</span><span class="w"></span>
<span class="w">                </span><span class="p">.</span><span class="na">setCallbackPool</span><span class="p">(</span><span class="n">Executors</span><span class="p">.</span><span class="na">newSingleThreadScheduledExecutor</span><span class="p">())</span><span class="w"> </span><span class="c1">// (1)</span><span class="w"></span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">().</span><span class="na">awaitReady</span><span class="p">();</span><span class="w"></span>
<span class="w">        </span><span class="n">TextChannel</span><span class="w"> </span><span class="n">channel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">api</span><span class="p">.</span><span class="na">getTextChannelById</span><span class="p">(</span><span class="n">CHANNEL_ID</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">channel</span><span class="p">.</span><span class="na">sendMessage</span><span class="p">(</span><span class="s">&quot;hello there&quot;</span><span class="p">).</span><span class="na">queue</span><span class="p">((</span><span class="n">message</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// (2)</span><span class="w"></span>
<span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Hello&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">            </span><span class="n">message</span><span class="p">.</span><span class="na">editMessage</span><span class="p">(</span><span class="s">&quot;general kenobi&quot;</span><span class="p">).</span><span class="na">complete</span><span class="p">();</span><span class="w"> </span><span class="c1">// (3) deadlock</span><span class="w"></span>
<span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;World!!!!&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// never printed</span><span class="w"></span>
<span class="w">        </span><span class="p">});</span><span class="w"></span>
<span class="w">   </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<blockquote>
<p>You can test this yourself on <strong>3.8.0</strong> and see it fail.</p>
</blockquote>
<p>Since we decided to use a single-thread pool (1) we only have one thread to execute callbacks.
This thread is used by the first callback (2) and cannot be used for the second callback (3).</p>
<p>Due to this reason we simply don't allow using <code>complete()</code> in any callback threads at all. If you use callbacks you should use <code>queue()</code>.</p>
<h2 id="ratelimits">RateLimits<a class="headerlink" href="#ratelimits" title="Permanent link">&para;</a></h2>
<h3 id="hit-the-websocket-ratelimit">Hit the WebSocket RateLimit<a class="headerlink" href="#hit-the-websocket-ratelimit" title="Permanent link">&para;</a></h3>
<p>When you update your game or online status you emit a socket message to Discord. If you do that often enough you hit a limit and JDA has to backoff for 60 seconds.</p>
<p>Things that contribute to the WebSocket RateLimit include:</p>
<ul>
<li><code>AudioManager.openAudioConnection(...)</code></li>
<li><code>AudioManager.closeAudioConnection()</code></li>
<li><code>AudioManager.setSelfMuted(...)</code></li>
<li><code>AudioManager.setSelfDeafened(...)</code></li>
<li>Any setter method on <code>Presence</code>.</li>
</ul>
<p>It is also possible that you get spammed by this warning if you use <code>ChunkingFilter.ALL</code> (this is done when using <code>create(token, intents)</code>). If your bot is in more than 120 guilds then this warning is unavoidable when using member chunking. It is recommended to use <code>setChunkingFilter(ChunkingFilter.NONE)</code> to reduce the startup time and get rid of this warning. If chunking on startup is absolutely necessary, you have to accept this warning.</p>
<p>There are many ways to retrieve members: <a href="../gateway-intents-and-member-cache-policy/#loading-members">Loading Members</a></p>
<p>I explained this in a bit more detail in issue <a href="https://github.com/DV8FromTheWorld/JDA/issues/1290">#1290</a></p>
<p>To make chunking a little more efficient, you can additionally enable the <code>GatewayIntent.GUILD_PRESENCES</code>. This will load all online members for each guild directly, instead of relying on additional member chunk requests, which can be a significant boost to reduce startup time and potentially reduce these warnings.</p>
<h3 id="encountered-429-or-encountered-global-rate-limit">Encountered 429 or Encountered global rate limit<a class="headerlink" href="#encountered-429-or-encountered-global-rate-limit" title="Permanent link">&para;</a></h3>
<p>When the internal jda rate-limiter fails to predict a rate limit bucket the HTTP response is <code>429: TOO MANY REQUESTS</code>. This means the request has to be retried. If you see this a lot (many times per minute), then JDA might have an issue with the rate limit handling of that route. If you use <code>setRelativeRateLimit(false)</code> it could also mean that your clock is not properly synchronizing with NTP.</p>
<p>Encountering the global rate-limit is something JDA cannot predict or prevent. This rate-limit implies you sent too many requests in total across all routes. Discord limits how much HTTP traffic a client is allowed to do and will tell us to limit all requests for a specified time interval. You should avoid hitting this too often.</p>
<h2 id="intents-and-caching">Intents and Caching<a class="headerlink" href="#intents-and-caching" title="Permanent link">&para;</a></h2>
<h3 id="cannot-get-reference-as-it-has-already-been-garbage-collected">Cannot get reference as it has already been Garbage Collected<a class="headerlink" href="#cannot-get-reference-as-it-has-already-been-garbage-collected" title="Permanent link">&para;</a></h3>
<p>Due to how we structure cache we sometimes have to invalidate our entire cache (that's just how Discord works).
When you store references to JDA entities for a long period of time such as a field you will suffer with the error <code>java.lang.IllegalStateException: Cannot get reference as it has already been Garbage Collected</code> once the entity was removed from the JDA cache. We highly recommend to store only the parts you actually need of the specific entity such as <code>id</code> and use something like <code>event.getJDA().getRoleById(id)</code>.</p>
<p>Entities that should not be stored for a long period of time include:</p>
<ul>
<li>Role</li>
<li>Channel (any type of channel)</li>
<li>Guild</li>
<li>RichCustomEmoji</li>
<li>User</li>
<li>Message</li>
</ul>
<p>Instead store IDs of the entities, or for messages simply the parts you need such as content.</p>
<h3 id="usersmembers-not-in-cache">Users/Members not in cache<a class="headerlink" href="#usersmembers-not-in-cache" title="Permanent link">&para;</a></h3>
<p>The default behavior in <code>createDefault</code> is to only cache members connected to voice channels.
If you need members to be cached, for example to lookup users by roles, then you have to enable this explicitly.</p>
<p>I explained this in <a href="../gateway-intents-and-member-cache-policy/">this wiki page</a> and <a href="https://stackoverflow.com/a/61229594/10630900">this stackoverflow answer</a>.</p>
<p>There are many ways you can retrieve members dynamically: <a href="../gateway-intents-and-member-cache-policy/#loading-members">Loading Members</a></p>
<h3 id="cannot-get-message-content-attempting-to-access-message-content-without-gatewayintent">Cannot get message content / Attempting to access message content without GatewayIntent<a class="headerlink" href="#cannot-get-message-content-attempting-to-access-message-content-without-gatewayintent" title="Permanent link">&para;</a></h3>
<p>When you receive this warning, that means you tried to access the content of a message without the privileged <code>GatewayIntent.MESSAGE_CONTENT</code>.</p>
<div class="highlight"><pre><span></span><code>Attempting to access message content without GatewayIntent.MESSAGE_CONTENT.
Discord now requires to explicitly enable access to this using the MESSAGE_CONTENT intent.
Useful resources to learn more:
    - https://support-dev.discord.com/hc/en-us/articles/4404772028055-Message-Content-Privileged-Intent-FAQ
    - https://jda.wiki/using-jda/gateway-intents-and-member-cache-policy/
    - https://jda.wiki/using-jda/troubleshooting/#im-getting-closecode4014-disallowed-intents
Or suppress this warning if this is intentional with Message.suppressContentIntentWarning()
</code></pre></div>
<p>As of JDA version <strong>5.0.0-alpha.14</strong>, you are <strong>required</strong> to enable this intent explicitly with <code>enableIntents(GatewayIntent.MESSAGE_CONTENT)</code> on your <code>JDABuilder</code> or <code>DefaultShardManagerBuilder</code>.</p>
<p>This affects anyone who accesses these methods on messages:</p>
<ul>
<li><code>getContentRaw</code>, <code>getContentDisplay</code>, <code>getContentStripped</code>, and <code>getMentions().getCustomEmojis()</code></li>
<li><code>getActionRows</code>, and <code>getButtons</code></li>
<li><code>getAttachments</code></li>
<li><code>getEmbeds</code></li>
</ul>
<p>You are also required to enable this in your <a href="https://discord.com/developers/applications">application dashboard</a>. Note, however, that this is a <strong>privileged</strong> intent and will require a valid use-case for your bot to be verified in over 75 servers.</p>
<h3 id="im-getting-closecode4014-disallowed-intents">I'm getting CloseCode(4014 / Disallowed intents...)<a class="headerlink" href="#im-getting-closecode4014-disallowed-intents" title="Permanent link">&para;</a></h3>
<p>This means you tried to use <code>GatewayIntent.GUILD_MEMBERS</code>, <code>GatewayIntent.GUILD_PRESENCES</code>, or <code>GatewayIntent.MESSAGE_CONTENT</code> without enabling it in your application dashboard. To use these privileged intents you first have to enable them.</p>
<ol>
<li>Open the <a href="https://discord.com/developers/applications">application dashboard</a></li>
<li>Select your bot application</li>
<li>Open the <strong>Bot</strong> tab</li>
<li>Under the <strong>Privileged Gateway Intents</strong> section, enable the intents that you are using in your bot. Toggle on <strong>SERVER MEMBERS INTENT</strong>, <strong>PRESENCE INTENT</strong>, or <strong>MESSAGE CONTENT INTENT</strong> depending on your needs.</li>
</ol>
<p>If you use these intents you are limited to 100 guilds on your bot. To allow the bot to join more guilds while using this intent you have to <a href="https://blog.discord.com/the-future-of-bots-on-discord-4e6e050ab52e">verify your bot</a>. This will be available in your application dashboard when the bot joins at least 75 guilds.</p>
<h2 id="interactions-and-slash-commands">Interactions and Slash Commands<a class="headerlink" href="#interactions-and-slash-commands" title="Permanent link">&para;</a></h2>
<h3 id="this-interaction-failed-unknown-interaction">This interaction failed / Unknown Interaction<a class="headerlink" href="#this-interaction-failed-unknown-interaction" title="Permanent link">&para;</a></h3>
<p>This means you didn't acknowledge or reply to an interaction in time. You only have <strong>3 seconds</strong> to reply or acknowledge.
You have to use <code>event.deferReply().queue()</code>, <code>event.deferEdit().queue()</code>, <code>event.editMessage(...).queue()</code>, or <code>event.reply(...).queue()</code>. (If you don't <code>queue()</code> it won't do it)
<br><strong>Make sure your event listener code is executed.</strong></p>
<h3 id="interaction-followup-messages-timed-out">Interaction Followup Messages Timed out<a class="headerlink" href="#interaction-followup-messages-timed-out" title="Permanent link">&para;</a></h3>
<p>This means you sent followup messages through <code>InteractionHook.sendMessage(...)</code> or similar but never acknowledged the interaction.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../using-new-features/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Using New Features" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Using New Features
            </div>
          </div>
        </a>
      
      
        
        <a href="../../contributing/contributing/" class="md-footer__link md-footer__link--next" aria-label="Next: Contributing" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Contributing
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <style>
  .footer__container {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin: 0 auto; /* Float to the middle */
    padding: 10px;
  }
  .footer__columns {
    display: flex;
    justify-content: space-around;
    width: 100%
  }
  .footer__column h3 {
    margin: 0
  }
  .footer__column ul {
    list-style: none;
    margin-left: 0 !important; /* overriding theme CSS overly-strong selectors */
  }
  .footer__column li {
    margin-left: 0 !important; /* overriding theme CSS overly-strong selectors */
  }
  .footer__copyright {
    text-align: center;
  }
</style>

<div class="footer__container">
  <div class="md-copyright footer__columns">
    <div class="footer__column">
      <h3>Resources</h3>
      <div class="md-copyright__highlight">
        <ul>
          <li><a href="https://ci.dv8tion.net/job/JDA5/javadoc/" target="_blank" rel="noopener">Javadocs</a></li>
          <li><a href="https://github.com/DV8FromTheWorld/JDA" target="_blank" rel="noopener">GitHub (JDA)</a></li>
          <li><a href="https://github.com/DV8FromTheWorld/JDA-Website" target="_blank" rel="noopener">GitHub (Wiki)</a></li>
          <li><a href="https://discord.dev" target="_blank" rel="noopener">Discord API Docs</a></li>
        </ul>
      </div>
    </div>
    <div class="footer__column">
      <h3>Community</h3>
      <div class="md-copyright__highlight">
        <ul>
          <li><a href="https://discord.gg/JDA" target="_blank" rel="noopener">Discord Server</a></li>
          <li><a href="https://opencollective.com/java-jda" target="_blank" rel="noopener">Open Collective</a></li>
        </ul>
      </div>
    </div>
  </div>
  <div class="md-copyright">
    <div class="md-copyright__highlight footer__copyright">
      Copyright 2015 Austin Keener, Michael Ritter, Florian Spie√ü, and <a href="https://github.com/DV8FromTheWorld/JDA-Website/graphs/contributors" target="_blank">Wiki Contributors</a>
    </div>
  </div>
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tabs", "toc.integrate", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
    
    
  </body>
</html>